name: 'Webhook Reporter'
description: 'Sends coverage and failure reports to various providers like Discord.'
author: Mohamed Jama
inputs:
  provider:
    description: 'The provider to send reports to (e.g., discord, slack)'
    required: true
    type: string
    default: 'discord'
  
  webhook_url:
    description: 'The webhook URL to send the reports to'
    required: true
    type: string
  
  coverage_format:
    description: 'The format of the coverage report (e.g., pytest, cobertura, swift)'
    required: true
    type: string
    default: 'pytest'
  
  coverage_file:
    description: 'Path to the coverage report file (e.g., coverage.xml)'
    required: true
    type: string
    default: 'coverage.xml'
  
  coverage_threshold:
    description: 'Minimum coverage percentage to consider the build as successful'
    required: false
    default: 80
    type: string

runs:
  using: 'docker'
  image: 'Dockerfile'
